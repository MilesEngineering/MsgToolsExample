<html>
    <head>
        <meta charset="utf-8"/>
        <script type="text/javascript" src="./jquery/jquery-1.11.1.min.js"></script>
        <script type="text/javascript" src="./goldenlayout/goldenlayout.min.js"></script>
        <script type="text/javascript" src="./msgtools/d3.v3.min.js"></script>
        <script type="text/javascript" src="./msgtools/msgtools.js"></script>
        <link type="text/css" rel="stylesheet" href="./bootstrap.min.css" />
        <link type="text/css" rel="stylesheet" href="./goldenlayout/goldenlayout-base.css" />
        <link type="text/css" rel="stylesheet" href="./goldenlayout/goldenlayout-light-theme.css" />
        <link type="text/css" rel="stylesheet" href="./style.css" />
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <nav style="margin: 15px 0;">
                    <div class="container" id="toolbar_container">
                        <a class="nav-toggle pull-right button" id="open">
                            <img src="../html/img/menu-icon.svg" alt="menu">
                        </a>
                    </div>
                </nav>
            </div>
            <div class="row">
                <div id="layout_container" style="height:100%;">
                </div>
            </div>
            <div class="sidebar closed" id="right_nav">
                <div class="inner-sidebar" id="menu_container">
                    <a class="nav-toggle button" id="close">
                        &times;
                    </a>
                    <div>
                        <h4>Currently viewing: </h4>
                        <div class="choose-config">
                            <span>Open: </span>
                        </div>
                    </div>

                    <div class="save-config">
                        <span>Save as: </span>
                    </div>
                    <button type="button" name="button" class="btn btn-warning" id="lock_btn">Lock</button>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript" src="./msgtools/Settings.js" ></script>
    <script type="text/javascript" src="./webdav/webdav.js" ></script>
    <script type="text/javascript" src="./msgtools/SettingsStorage.js" ></script>
    <script type="text/javascript" src="./msgtools/MsgFieldLabel.js" ></script>
    <script type="text/javascript" src="./msgtools/MsgTree.js" ></script>
    <script type="text/javascript" src="./msgtools/MsgSelector.js" ></script>
    <script type="text/javascript" src="./msgtools/MsgDialog.js" ></script>
    <script type="text/javascript" src="./msgtools/Plot-component.js" ></script>
    <script type="text/javascript" src="./msgtools/MsgPlot.js" ></script>
    <script type="text/javascript" src="./layout.js"></script>
    <script type="text/javascript" src="./menu.js"></script>

    <script type='text/javascript'>
        rightMenu('open', 'close', 'right_nav');
        // Keep this at the bottom so there's time for the web components to load
        function connectToServer() {
            var client = new msgtools.MessageClient('WebGuiDemo');
            var options = new Map();
            options.set('server', location.hostname);
            // commenting out for development, uncomment to connect
            client.connect(options);
        }
        msgtools.load('../obj/CodeGenerator/Javascript/', ['TextCommand',
                                                           'TestCase3',
                                                           'BandwidthTest',
                                                           'TextResponse',
                                                           'TestCase4',
                                                           'Printf',
                                                           'TestCase1',
                                                           'TestCase2',
                                                           'Taxonomy.Canidae.Wolf',
                                                           'Taxonomy.Canidae.Canis',
                                                           'Taxonomy.Canidae.Vulpes',
                                                           'Taxonomy.Canidae.Dog',
                                                           'Taxonomy.Canidae.AFox',
                                                           'Taxonomy.Canidae.Fox',
                                                           'Taxonomy.Canidae.Canidae'
                                                         ]).then(() => {connectToServer()});
    </script>
</html>
